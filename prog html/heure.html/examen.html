<!DOCTYPE html>
 <html lang="fr">
 <head>
<meta charset="UTF-8">
 <title>Exercice Transaction</title>
 </head>
<body>
 <h2>Formulaire de Transaction</h2>
 <div>
 <label for="produit">Produit :</label>
 <select id="produit">
 <!-- Les options seront ajoutées par JavaScript -->
 </select>
 <input type="text" id="nouveauProduit" placeholder="Ajouter un nouveau produit">
 <button id="ajouterProduit">Ajouter Produit</button>
 </div>
 <div>
 <label for="prix">Prix :</label>
 <input type="number" id="prix">
 </div>

 <div>
 <label for="quantite">Quantité :</label>
 <input type="number" id="quantite">
 </div>

 <button id="ajouterTransaction">Ajouter Transaction</button>

 <h2>Transactions</h2>
 <table id="tableauTransactions">
 <thead>
 <tr>
 <th>Produit</th>
 <th>Prix</th>
 <th>Quantité</th>
 <th>Total</th>
 </tr>
 </thead>
 <tbody>
 <!-- Les transactions seront ajoutées par JavaScript -->
 </tbody>
 </table>
 <div>
 <p>Total des prix: <span id="totalPrix">0</span></p>
 <p>Nombre de transactions: <span id="nombreTransactions">0</span></p>
 </div>

 <script>
 // Les étudiants ajouteront ici leur code JavaScript
 // Récupération des éléments HTML
const nouveauProduitInput = document.getElementById('nouveauProduit');
const ajouterProduitBtn = document.getElementById('ajouterProduit');
const produitSelect = document.getElementById('produit');
const prixInput = document.getElementById('prix');
const quantiteInput = document.getElementById('quantite');
const ajouterTransactionBtn = document.getElementById('ajouterTransaction');
const tableauTransactions = document.getElementById('tableauTransactions');
const totalPrixSpan = document.getElementById('totalPrix');
const nombreTransactionsSpan = document.getElementById('nombreTransactions');

// Initialisation des variables de total cumulé des transactions et nombre total de transactions
let totalPrix = 0;
let nombreTransactions = 0;

// Fonction pour ajouter un nouveau produit à la liste déroulante
ajouterProduitBtn.addEventListener('click', () => {
    const nouveauProduit = nouveauProduitInput.value;
    if (nouveauProduit) {
        const nouvelleOption = document.createElement('option');
        nouvelleOption.textContent = nouveauProduit;
        produitSelect.appendChild(nouvelleOption);
        nouveauProduitInput.value = '';
    }
});

// Fonction pour ajouter une transaction au tableau
ajouterTransactionBtn.addEventListener('click', () => {
    const produit = produitSelect.value;
    const prix = parseFloat(prixInput.value);
    const quantite = parseInt(quantiteInput.value);

    if (produit && !isNaN(prix) && !isNaN(quantite)) {
        const total = prix * quantite;
        const nouvelleLigne = `
            <tr>
                <td>${produit}</td>
                <td>${prix}</td>
                <td>${quantite}</td>
                <td>${total}</td>
            </tr>
        `;
        tableauTransactions.querySelector('tbody').innerHTML += nouvelleLigne;
        
        // Mise à jour du total cumulé des transactions et du nombre total de transactions
        totalPrix += total;
        nombreTransactions++;
        totalPrixSpan.textContent = totalPrix;
        nombreTransactionsSpan.textContent = nombreTransactions;
        
        // Réinitialisation des champs
        prixInput.value = '';
        quantiteInput.value = '';
    }
});

 </script>
 </body>
 </html>